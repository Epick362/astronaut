<div class="container content">
    <div class="row">
        <div class="col-sm-6 col-sm-offset-3">
            <div class="panel panel-default">
                <div class="panel-body">
                    <h3>Register</h3>
                    <form name="vm.registerForm" novalidate>
                        <div class="form-group" ng-class="{ 'has-error': vm.registerForm.name.$touched && vm.registerForm.name.$invalid }">
                            <label class="control-label">Username</label>
                            <input type="text" class="form-control" name="name" ng-model="vm.name" ng-minlength="3" ng-maxlength="16" required>
                            <div class="help-block" ng-messages="vm.registerForm.name.$error" ng-if="vm.registerForm.name.$touched">
                                <p ng-message="minlength">Username is too short.</p>
                                <p ng-message="maxlength">Username is too long.</p>
                                <p ng-message="required">Username is required.</p>
                            </div>
                        </div>
                        <div class="form-group" ng-class="{ 'has-error': vm.registerForm.email.$touched && vm.registerForm.email.$invalid }" >
                            <label class="control-label">Email</label>
                            <input type="email" class="form-control" name="email" ng-model="vm.email">
                            <div class="help-block" ng-messages="vm.registerForm.email.$error" ng-if="vm.registerForm.email.$touched">
                                <p ng-message="email">Please enter a valid email address.</p>
                            </div>
                        </div>
                        <div class="form-group" ng-class="{ 'has-error': vm.registerForm.password.$touched && vm.registerForm.password.$invalid }" required>
                            <label class="control-label">Password</label>
                            <input type="password" class="form-control" name="password" ng-model="vm.password" ng-minlength="8" ng-maxlength="32" required>
                            <div class="help-block" ng-messages="vm.registerForm.password.$error" ng-if="vm.registerForm.password.$touched">
                                <p ng-message="minlength">Password needs to be atleast 8 characters long.</p>
                                <p ng-message="maxlength">Password is too long.</p>
                                <p ng-message="required">Password is required.</p>
                            </div>
                        </div>
                        <div class="form-group" ng-class="{ 'has-error': vm.registerForm.password_confirm.$touched && vm.registerForm.password_confirm.$invalid }">
                            <label class="control-label">Password Confirmation</label>
                            <input type="password" class="form-control" name="password_confirm" ng-model="vm.password_confirm" match="vm.password" required>
                            <div class="help-block" ng-messages="vm.registerForm.password_confirm.$error" ng-if="vm.registerForm.password_confirm.$touched">
                                <p ng-message="match">Passwords don't match</p>
                            </div>
                        </div>

                        <button class="btn btn-primary" ng-click="vm.register()" ng-disabled="vm.registerForm.$invalid || vm.loading">
                            Submit
                            <i ng-if="vm.loading" class="fa fa-spinner fa-pulse"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
